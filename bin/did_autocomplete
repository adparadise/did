#!/usr/bin/env ruby

$: << File.dirname(__FILE__) + "/../lib"

command, partial, prior = ARGV[0..2]

USE_ACTIVE_RECORD = false

if (USE_ACTIVE_RECORD) 
  require 'env'
  Env.setup
  require 'models/tag'

  tags = Tag.find(:all, :conditions => ["label like ?", partial + "%"])
  tags.each do |tag|
    puts tag.label
  end
else
  require 'env_raw'
  Env.setup
  db = Env.db
  db.execute("select label from tags where label like ?", partial + "%") do |row|
    puts row[0]
  end
end
